(this["webpackJsonpfang-arai-dee"]=this["webpackJsonpfang-arai-dee"]||[]).push([[0],{17:function(e,n,a){e.exports={container:"Navbar_container__2Psk1",containerLink:"Navbar_containerLink__RhSVW",navLink:"Navbar_navLink__LBvEt",navLinkIcon:"Navbar_navLinkIcon__3fuA-",navLinkText:"Navbar_navLinkText__31WQD",Logo:"Navbar_Logo__3IpWz",switch:"Navbar_switch__3o0Lu",userLoginMobile:"Navbar_userLoginMobile__3Xh3K",navLinkHide:"Navbar_navLinkHide__2CpA9"}},19:function(e,n,a){e.exports={container:"UserMenu_container__2KYlT",loginContainer:"UserMenu_loginContainer__D1dM2",loginHeader:"UserMenu_loginHeader__3KwNB",loginIcon:"UserMenu_loginIcon__UKQ9v",loginTextHeader:"UserMenu_loginTextHeader__1f2Ow",loginContent:"UserMenu_loginContent__2-u-t",loginContentText:"UserMenu_loginContentText__1kFdw",btnLogin:"UserMenu_btnLogin__2fbka",btnLoginText:"UserMenu_btnLoginText__1yCtY"}},28:function(e,n,a){e.exports={container:"ChatBar_container__y-gpV",header:"ChatBar_header__uhMyE",headerInfo:"ChatBar_headerInfo__3HM4z",chatContent:"ChatBar_chatContent__q8FPD",chatName:"ChatBar_chatName__22pX5",chat:"ChatBar_chat__2g3V-",message:"ChatBar_message__3DTwC",input:"ChatBar_input__1NXfW",btn:"ChatBar_btn__1xrDV",chatIcon:"ChatBar_chatIcon__2GOKF",containerMobileShow:"ChatBar_containerMobileShow__MtB3I",headerBack:"ChatBar_headerBack__3xFxc",containerMobileHide:"ChatBar_containerMobileHide__3tgDj",fade:"ChatBar_fade__27_pD"}},32:function(e,n,a){e.exports={container:"Login_container__K7Saf",loginContainer:"Login_loginContainer__1zCwr",loginHeader:"Login_loginHeader__3xYQI",loginIcon:"Login_loginIcon__UqlE1",loginTextHeader:"Login_loginTextHeader__2Cp-u",loginContent:"Login_loginContent__1qOuO",loginContentText:"Login_loginContentText__1dTob",btnLogin:"Login_btnLogin__26QYy",btnLoginText:"Login_btnLoginText__2nlnZ"}},38:function(e,n,a){e.exports={searchRoom:"SearchBar_searchRoom__3KFLb",searchIcon:"SearchBar_searchIcon__xOIng",mainMenu:"SearchBar_mainMenu__foYrQ",searchBar:"SearchBar_searchBar__ILYtr",createRoomBtn:"SearchBar_createRoomBtn__3GRjY",joinRoom:"SearchBar_joinRoom__VhvyS",mobileHide:"SearchBar_mobileHide__2IdJt"}},43:function(e,n){var a=function(e){localStorage.setItem("theme",e),document.documentElement.className=e},t=function(){localStorage.getItem("theme")?"theme-dark"===localStorage.getItem("theme")?a("theme-dark"):"theme-light"===localStorage.getItem("theme")&&a("theme-light"):a("theme-dark")};e.exports={setTheme:a,keepTheme:t,changeMode:function(){localStorage.getItem("theme")?"theme-dark"===localStorage.getItem("theme")?a("theme-light"):"theme-light"===localStorage.getItem("theme")&&a("theme-dark"):a("theme-dark"),t()},getTheme:function(){return localStorage.getItem("theme")?localStorage.getItem("theme"):(a("theme-dark"),"theme-dark")}}},51:function(e,n,a){e.exports={container:"Home_container__Yf_7E"}},54:function(e,n,a){e.exports={container:"Loading_container__xtF8j",textLoading:"Loading_textLoading__2cNqd",loading:"Loading_loading__12z9-"}},56:function(e,n,a){e.exports={container:"App_container__3uZHQ"}},60:function(e,n){e.exports={firebaseConfig:{apiKey:"AIzaSyBox7PZHJp51f92mUmrDikdlXW0Icrg6CM",authDomain:"fungaraidee.firebaseapp.com",projectId:"fungaraidee",storageBucket:"fungaraidee.appspot.com",messagingSenderId:"1081398082378",appId:"1:1081398082378:web:560969975f7108bb51dfb3",measurementId:"G-05CFD0FCE3"}}},67:function(e,n,a){},74:function(e,n,a){},79:function(e,n,a){"use strict";a.r(n);var t=a(12),c=a.n(t),i=a(59),s=a.n(i),o=(a(67),a(0)),r=a.n(o),l=a(1),d=a(13),j=a(54),h=a.n(j),b=a(6);function u(){var e=Object(t.useState)(0),n=Object(d.a)(e,2),a=n[0],c=n[1];return Object(t.useEffect)((function(){setInterval((function(){c((function(e){return e+1}))}),500)}),[]),Object(b.jsx)("div",{className:h.a.container,children:Object(b.jsxs)("div",{className:h.a.textLoading,children:["\u0e1f\u0e31\u0e07\u0e2d\u0e30\u0e44\u0e23\u0e14\u0e35 "," ",a%3>0&&".",a%3>1&&"."]})})}var g=a(43),m=a(17),x=a.n(m),O=a(20),_=a(21);a(74);var v=function(){var e=Object(t.useState)(!1),n=Object(d.a)(e,2),a=n[0],c=n[1];return Object(t.useEffect)((function(){"theme-dark"==Object(g.getTheme)()?c(!1):c(!0)}),[]),Object(b.jsx)("div",{style:{width:100},children:Object(b.jsxs)("div",{className:"container-switch",children:[Object(b.jsx)("input",{type:"checkbox",id:"toggle",className:"toggle--checkbox",checked:a,onChange:function(){c(!a),Object(g.changeMode)()}}),Object(b.jsx)("label",{for:"toggle",className:"toggle--label",children:Object(b.jsx)("span",{className:"toggle--label-background"})})]})})},f=a(41),p=a(32),N=a.n(p),L=a(60),k=a(50),C=(a(80),a(75),k.a.initializeApp(L.firebaseConfig)),I=C.firestore(),S=C.auth(),T=new k.a.auth.GoogleAuthProvider,B=new k.a.auth.FacebookAuthProvider;function M(e){var n=e.display,a=function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.signInWithPopup(T).then((function(e){if(console.log(e),e){var n=I.collection("users").doc(e.user.uid);n.get().then((function(a){a.data()||n.set({uid:e.user.uid,displayName:e.user.displayName,photoURL:e.user.photoURL,email:e.user.email,created:(new Date).valueOf(),role:"user",provider:"google"})}))}})).catch((function(){return console.log("user closed popup!")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.signInWithPopup(B).then((function(e){if(console.log(e),e){var n=I.collection("users").doc(e.user.uid);n.get().then((function(a){a.data()||n.set({uid:e.user.uid,displayName:e.user.displayName,photoURL:e.user.photoURL,email:e.user.email,created:(new Date).valueOf(),role:"user",provider:"facebook"})}))}})).catch((function(){return console.log("user closed popup!")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:N.a.container,children:Object(b.jsxs)("div",{className:N.a.loginContainer,children:[Object(b.jsxs)("div",{className:N.a.loginHeader,children:[Object(b.jsx)("div",{className:N.a.loginIcon,onClick:n,children:Object(b.jsx)(O.a,{icon:_.j})}),Object(b.jsx)("div",{className:N.a.loginTextHeader,children:"fungAraiDee"})]}),Object(b.jsxs)("div",{className:N.a.loginContent,children:[Object(b.jsx)("div",{className:N.a.loginContentText,children:"\u0e40\u0e25\u0e37\u0e2d\u0e01 Service \u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"}),Object(b.jsxs)("div",{className:N.a.btnLogin,onClick:a,children:[Object(b.jsx)("img",{src:"https://img.icons8.com/color/48/000000/google-logo.png"}),Object(b.jsx)("div",{className:N.a.btnLoginText,children:"Login \u0e14\u0e49\u0e27\u0e22 google"})]}),Object(b.jsxs)("div",{className:N.a.btnLogin,onClick:t,style:{marginTop:15},children:[Object(b.jsx)("img",{src:"https://img.icons8.com/color/48/000000/facebook-new.png"}),Object(b.jsx)("div",{className:N.a.btnLoginText,children:"Login \u0e14\u0e49\u0e27\u0e22 facebook"})]})]})]})})}var y=a(19),w=a.n(y);function H(e){var n=e.display,a=e.user,c=Object(t.useState)(!1),i=Object(d.a)(c,2),s=i[0],o=i[1],r=Object(t.useState)(!1),l=Object(d.a)(r,2),j=l[0],h=l[1];return Object(b.jsxs)(b.Fragment,{children:[j&&Object(b.jsx)(u,{}),s?Object(b.jsx)("div",{className:w.a.container,children:Object(b.jsxs)("div",{className:w.a.loginContainer,children:[Object(b.jsxs)("div",{className:w.a.loginHeader,children:[Object(b.jsx)("div",{className:w.a.loginIcon,onClick:n,children:Object(b.jsx)(O.a,{icon:_.j})}),Object(b.jsx)("div",{className:w.a.loginTextHeader,children:"\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e23\u0e30\u0e1a\u0e1a?"})]}),Object(b.jsxs)("div",{className:w.a.loginContent,children:[Object(b.jsx)("div",{className:w.a.btnLogin,style:{marginTop:15},onClick:function(){h(!0),S.signOut().then((function(){h(!1),n(),window.location.reload()})).catch((function(e){h(!1),alert("can not sign out plese try again!")}))},children:Object(b.jsxs)("div",{className:w.a.btnLoginText,children:["\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e23\u0e30\u0e1a\u0e1a @",a.displayName.split(" ")[0]]})}),Object(b.jsx)("div",{className:w.a.btnLogin,style:{marginTop:15},onClick:n,children:Object(b.jsx)("div",{className:w.a.btnLoginText,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})})]})]})}):Object(b.jsx)("div",{className:w.a.container,children:Object(b.jsxs)("div",{className:w.a.loginContainer,children:[Object(b.jsxs)("div",{className:w.a.loginHeader,children:[Object(b.jsx)("div",{className:w.a.loginIcon,onClick:n,children:Object(b.jsx)(O.a,{icon:_.j})}),Object(b.jsx)("div",{className:w.a.loginTextHeader,children:"fungAraiDee"})]}),Object(b.jsxs)("div",{className:w.a.loginContent,children:[Object(b.jsx)("div",{className:w.a.btnLogin,style:{marginTop:15},children:Object(b.jsxs)("div",{className:w.a.btnLoginText,children:["\u0e42\u0e1b\u0e23\u0e44\u0e1f\u0e25\u0e4c @",a.displayName.split(" ")[0]]})}),Object(b.jsx)("div",{className:w.a.btnLogin,style:{marginTop:15},onClick:function(){o(!0)},children:Object(b.jsxs)("div",{className:w.a.btnLoginText,children:["\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e23\u0e30\u0e1a\u0e1a @",a.displayName.split(" ")[0]]})})]})]})})]})}function D(){var e=Object(t.useState)(!1),n=Object(d.a)(e,2),a=n[0],c=n[1],i=Object(t.useState)(!1),s=Object(d.a)(i,2),o=s[0],r=s[1],l=Object(t.useState)(""),j=Object(d.a)(l,2),h=j[0],u=j[1],g=Object(t.useState)(null),m=Object(d.a)(g,2),p=m[0],N=m[1],L=function(){c(!a)},k=function(){r(!o)};return Object(t.useEffect)((function(){S.onAuthStateChanged((function(e){e&&I.collection("users").doc(e.uid).onSnapshot((function(e){e.data()&&(u(e.data().displayName.split(" ")[0]),N(e.data()))}))}))}),[]),Object(b.jsxs)(b.Fragment,{children:[a&&!h&&Object(b.jsx)(M,{display:L}),o&&h&&Object(b.jsx)(H,{user:p,display:k}),Object(b.jsxs)("div",{className:x.a.container,children:[Object(b.jsx)("div",{className:x.a.Logo,children:"fangAraiDee"}),Object(b.jsxs)("div",{className:x.a.containerLink,children:[Object(b.jsx)(f.b,{to:"/",children:Object(b.jsxs)("div",{className:x.a.navLink,children:[Object(b.jsx)("div",{className:x.a.navLinkIcon,children:Object(b.jsx)(O.a,{icon:_.c})}),Object(b.jsx)("div",{className:x.a.navLinkText,children:"Home"})]})}),Object(b.jsx)(f.b,{to:"/",children:Object(b.jsxs)("div",{className:x.a.navLink,children:[Object(b.jsx)("div",{className:x.a.navLinkIcon,children:Object(b.jsx)(O.a,{icon:_.f})}),Object(b.jsx)("div",{className:x.a.navLinkText,children:"Podcast"})]})}),Object(b.jsx)(f.b,{to:"/",children:Object(b.jsxs)("div",{className:x.a.navLink,children:[Object(b.jsx)("div",{className:x.a.navLinkIcon,children:Object(b.jsx)(O.a,{icon:_.g})}),Object(b.jsx)("div",{className:x.a.navLinkText,children:"Random"})]})}),h?Object(b.jsxs)("div",{className:x.a.navLinkHide,onClick:k,children:[Object(b.jsx)("div",{className:x.a.navLinkIcon,children:Object(b.jsx)(O.a,{icon:_.k})}),Object(b.jsx)("div",{className:x.a.navLinkText,children:h})]}):Object(b.jsxs)("div",{className:x.a.navLinkHide,onClick:L,children:[Object(b.jsx)("div",{className:x.a.navLinkIcon,children:Object(b.jsx)(O.a,{icon:_.i})}),Object(b.jsx)("div",{className:x.a.navLinkText,children:"Login"})]}),h?Object(b.jsxs)("div",{className:x.a.switch,children:[Object(b.jsx)("div",{className:x.a.userLoginMobile,onClick:k,children:h}),Object(b.jsx)(v,{})]}):Object(b.jsxs)("div",{className:x.a.switch,children:[Object(b.jsxs)("div",{className:x.a.userLoginMobile,onClick:L,children:[Object(b.jsx)(O.a,{icon:_.i}),"Login"]}),Object(b.jsx)(v,{})]})]})]})]})}var U=a(56),E=a.n(U),F=a(18),R=a(51),A=a.n(R),P=a(38),K=a.n(P);function G(){return Object(b.jsx)("div",{className:K.a.joinRoom,children:Object(b.jsxs)("div",{className:K.a.searchBar,children:[Object(b.jsxs)("div",{className:K.a.searchRoom,children:[Object(b.jsx)("input",{placeholder:"Enter session ID to join."}),Object(b.jsx)("div",{className:K.a.searchIcon,children:Object(b.jsx)(O.a,{icon:_.h})})]}),Object(b.jsxs)("div",{className:K.a.createRoomBtn,children:[Object(b.jsx)("div",{className:K.a.mobileHide,children:"Create session"}),Object(b.jsx)(O.a,{icon:_.e})]})]})})}var Y=a(26),W=a(28),z=a.n(W);function Q(e){var n=e.name,a=e.id,c=e.setLoading,i=Object(t.useState)(!1),s=Object(d.a)(i,2),o=s[0],r=s[1],l=Object(t.useState)([]),j=Object(d.a)(l,2),h=j[0],u=j[1],g=Object(t.useState)(""),m=Object(d.a)(g,2),x=m[0],v=m[1],f=Object(t.useState)("guest"+Math.floor(9999*Math.random())),p=Object(d.a)(f,2),N=p[0],L=p[1];Object(t.useEffect)((function(){c(!0);var e=I.collection("session").doc(a).collection("chat"),n=e.orderBy("time","desc").limit(16);n.get().then((function(e){var n=[];e.forEach((function(e){"lastMessage"!=e.id&&(n=[].concat(Object(Y.a)(n),[e.data()]))})),u(n),c(!1)})),e.doc("lastMessage").onSnapshot((function(e){n.get().then((function(e){var n=[];e.forEach((function(e){"lastMessage"!=e.id&&(n=[].concat(Object(Y.a)(n),[e.data()]))})),u(n)}))})),S.onAuthStateChanged((function(e){e&&I.collection("users").doc(e.uid).onSnapshot((function(e){e.data()&&L(e.data().displayName.split(" ")[0])}))}))}),[]);var k=function(){if(""!=x){var e={name:N,message:x,time:(new Date).valueOf()};u([e].concat(Object(Y.a)(h))),v("");var n=I.collection("session").doc(a).collection("chat");n.add(e).then((function(a){n.doc("lastMessage").set(e)}))}};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:z.a.chatIcon,onClick:function(){return r(!0)},children:Object(b.jsx)(O.a,{icon:_.b})}),Object(b.jsxs)("div",{className:"".concat(z.a.container," ").concat(o?z.a.containerMobileShow:z.a.containerMobileHide),children:[Object(b.jsxs)("div",{className:z.a.header,children:[Object(b.jsx)("div",{className:z.a.headerBack,onClick:function(){return r(!1)},children:Object(b.jsx)(O.a,{icon:_.a})}),Object(b.jsx)("div",{className:z.a.headerName,children:n}),Object(b.jsx)("div",{className:z.a.headerInfo,children:Object(b.jsx)(O.a,{icon:_.d})})]}),Object(b.jsx)("div",{className:z.a.chatContent,children:h.map((function(e,n){return Object(b.jsxs)("div",{className:z.a.chat,children:[Object(b.jsx)("div",{className:z.a.chatName,children:e.name}),Object(b.jsx)("div",{className:z.a.message,children:e.message})]},n)}))}),Object(b.jsxs)("div",{className:z.a.input,children:[Object(b.jsx)("input",{placeholder:"send some message..",value:x,onKeyDown:function(e){"Enter"===e.key&&k()},onChange:function(e){return v(e.target.value)}}),Object(b.jsx)("div",{className:z.a.btn,onClick:k,children:"send"})]})]})]})}function V(e){var n=e.setLoading,a=e.id;return Object(b.jsxs)("div",{className:A.a.container,children:[Object(b.jsx)("div",{className:A.a.mainMenu,children:Object(b.jsx)(G,{})}),Object(b.jsx)("div",{className:A.a.globalChat,children:Object(b.jsx)(Q,{name:"Global Chat",setLoading:n,id:a})})]})}var q=function(){var e=Object(t.useState)(!1),n=Object(d.a)(e,2),a=n[0],c=n[1];return Object(t.useEffect)(Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.keepTheme)();case 2:case"end":return e.stop()}}),e)})))),Object(b.jsx)(f.a,{basename:"/fangaraidee",children:Object(b.jsxs)("div",{className:E.a.container,children:[a&&Object(b.jsx)(u,{}),Object(b.jsx)("div",{className:E.a.navbar,children:Object(b.jsx)(D,{})}),Object(b.jsx)(F.c,{children:Object(b.jsx)(F.a,{exact:!0,path:"/",children:Object(b.jsx)(V,{setLoading:c,id:"mTdG3yuGbp2GBUNMggMg"})})})]})})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,81)).then((function(n){var a=n.getCLS,t=n.getFID,c=n.getFCP,i=n.getLCP,s=n.getTTFB;a(e),t(e),c(e),i(e),s(e)}))};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(q,{})}),document.getElementById("root")),J()}},[[79,1,2]]]);
//# sourceMappingURL=main.b56783ba.chunk.js.map